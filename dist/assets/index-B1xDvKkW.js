(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))s(n);new MutationObserver(n=>{for(const o of n)if(o.type==="childList")for(const c of o.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&s(c)}).observe(document,{childList:!0,subtree:!0});function r(n){const o={};return n.integrity&&(o.integrity=n.integrity),n.referrerPolicy&&(o.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?o.credentials="include":n.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function s(n){if(n.ep)return;n.ep=!0;const o=r(n);fetch(n.href,o)}})();const g="theme";function k(){const e=localStorage.getItem(g);return e==="light"||e==="dark"?e:window.matchMedia?.("(prefers-color-scheme: dark)")?.matches?"dark":"light"}function h(e){const t=document.documentElement;t.dataset.theme=e,t.style.colorScheme=e;const r=document.getElementById("theme-switch");r&&(r.checked=e==="light",r.setAttribute("aria-checked",String(r.checked))),localStorage.setItem(g,e)}function T(){const e=document.getElementById("theme-switch");e&&(h(k()),e.addEventListener("change",()=>{const t=e.checked?"light":"dark";h(t)}))}const y={flip:"/sound/flip.mp3",match:"/sound/match.mp3",win:"/sound/win.mp3"},C={flip:1,unflip:1,match:1,win:.1},d={enabled:!1},m={};function M(e){const t=y[e];if(!t)return null;const r=new Audio(t);r.preload="auto";const s=C[e];return r.volume=typeof s=="number"?s:1,m[e]=r,r}function v(e){return m[e]?m[e]:M(e)}function q(){Object.keys(y).forEach(e=>{const t=v(e);t&&t.load()})}function f(e){if(!d.enabled)return;const t=v(e);t&&(t.currentTime=0,t.play().catch(()=>{}))}function D(){const e=document.querySelector(".sound-toggle");if(!e)return;function t(){d.enabled?(e.classList.add("sound-toggle--on"),e.setAttribute("aria-pressed","true"),e.setAttribute("aria-label","DÃ©sactiver le son")):(e.classList.remove("sound-toggle--on"),e.setAttribute("aria-pressed","false"),e.setAttribute("aria-label","Activer le son"))}e.addEventListener("click",()=>{d.enabled=!d.enabled,t()}),t()}function p(e){const t=e.length;e.forEach(r=>{r.style.order=Math.floor(Math.random()*t)})}function P(){const e=Array.from(document.querySelectorAll(".memory-card")),t=document.querySelector(".memory-game"),r=document.querySelector(".win-overlay"),s=document.querySelector(".replay-button");let n=!1,o=!1,c=null,a=null;function u(){n=!1,o=!1,c=null,a=null}function L(){o=!0,setTimeout(()=>{c.classList.remove("flip"),a.classList.remove("flip"),u()},900)}function b(){o=!0,c.removeEventListener("click",l),a.removeEventListener("click",l),setTimeout(()=>{c.classList.add("memory-card-shadow"),a.classList.add("memory-card-shadow"),f("match"),u(),S()},900)}function E(){c.dataset.product===a.dataset.product?b():L()}function l(){if(!o&&this!==c){if(this.classList.add("flip"),f("flip"),!n){n=!0,c=this;return}n=!1,a=this,E()}}function S(){const i=e.length,O=document.querySelectorAll(".memory-card.memory-card-shadow").length;i>0&&O===i&&(t.classList.add("win"),f("win"),r.hidden=!1)}function w(){u(),e.forEach(i=>{i.classList.remove("flip","memory-card-shadow"),i.removeEventListener("click",l),i.addEventListener("click",l)}),t.classList.remove("win"),r.hidden=!0,p(e)}function A(){p(e),e.forEach(i=>i.addEventListener("click",l)),s.addEventListener("click",w),r.hidden=!0,t.classList.remove("win")}return{mount:A}}document.addEventListener("DOMContentLoaded",()=>{q(),T(),D(),B()});function B(){P().mount()}
//# sourceMappingURL=index-B1xDvKkW.js.map
