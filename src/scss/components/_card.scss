@use "../abstracts" as *;

.memory-game {
  perspective: 1000px; // ✅ essentiel pour voir le flip correctement
}

.memory-card {
  background: var(--bg-surface, #{$color-surface});
  border: 1px solid var(--border-subtle, #{$color-border-subtle});
  border-radius: $radius;
  box-shadow: $shadow-subtle;
  cursor: pointer; height: $card-h;
  position: relative;
  -webkit-tap-highlight-color: transparent;
  transform-style: preserve-3d;
  transition: transform 600ms cubic-bezier(0.2, 0.8, 0.2, 1);
  user-select: none;
  width: $card-w;

  &.flip {
    transform: rotateY(180deg);
  }

  .front-face,
  .back-face {
    backface-visibility: hidden; // ✅ Safari
    border-radius: inherit; height: 100%; inset: 0;
    overflow: hidden;
    position: absolute;
    width: 100%;
  }

  // Face "produit" (doit apparaître quand la carte est flipped)
  .front-face {
    transform: rotateY(180deg);

    img {
      display: block; height: 100%;
      object-fit: contain;
      width: 100%;
    }
  }

  // Face "logo" (dans ton HTML c’est directement <img class="back-face">)
  img.back-face {
    background: var(--bg-surface-soft, #{$color-surface-soft});
    display: block;
    object-fit: contain;
    padding: 22px;
  }

  &.memory-card-shadow {
    border-color: rgb(34 197 94 / 55%);
    box-shadow: 0 0 0 3px rgb(34 197 94 / 22%), $shadow-subtle;
  }
}
