// src/scss/components/_card.scss
@use "../abstracts" as *;

.memory-game {
  perspective: 1000px; // ✅ essentiel pour voir le flip correctement
}

.memory-card {
  width: $card-w;
  height: $card-h;
  position: relative;

  border-radius: $radius;
  background: var(--bg-surface, #{$color-surface});
  border: 1px solid var(--border-subtle, #{$color-border-subtle});
  box-shadow: $shadow-subtle;

  cursor: pointer;
  user-select: none;
  -webkit-tap-highlight-color: transparent;

  transform-style: preserve-3d;
  transition: transform 600ms cubic-bezier(0.2, 0.8, 0.2, 1);

  &.flip {
    transform: rotateY(180deg);
  }

  .front-face,
  .back-face {
    position: absolute;
    inset: 0;
    width: 100%;
    height: 100%;
    border-radius: inherit;
    backface-visibility: hidden;
    -webkit-backface-visibility: hidden; // ✅ Safari
    overflow: hidden;
  }

  // Face "produit" (doit apparaître quand la carte est flipped)
  .front-face {
    transform: rotateY(180deg);

    img {
      display: block;
      width: 100%;
      height: 100%;
      object-fit: cover;
    }
  }

  // Face "logo" (dans ton HTML c’est directement <img class="back-face">)
  img.back-face {
    padding: 22px;
    background: var(--bg-surface-soft, #{$color-surface-soft});
    object-fit: contain;
    display: block;
  }

  &.memory-card-shadow {
    border-color: rgba(34, 197, 94, 0.55);
    box-shadow: 0 0 0 3px rgba(34, 197, 94, 0.22), $shadow-subtle;
  }
}
