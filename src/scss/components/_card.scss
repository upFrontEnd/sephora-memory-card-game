@use "../abstracts" as *;

.memory-game {
  perspective: 1000px;
}

.memory-card {
  background: var(--bg-surface, #{$color-surface});
  border: 1px solid var(--border-subtle, #{$color-border-subtle});
  border-radius: $radius;
  box-shadow: $shadow-subtle;
  cursor: pointer;
  position: relative;
  width: 100%; max-width: $card-w;
  height: $card-h;
  transform-style: preserve-3d;
  transition: transform 600ms cubic-bezier(0.2, 0.8, 0.2, 1);
  user-select: none;

  &-shadow {
    box-shadow: 0 0 40px rgba(20, 121, 235, 1);
  }

  &.flip {
    transform: rotateY(180deg);
  }

  .front-face,
  .back-face {
    backface-visibility: hidden;
    -webkit-backface-visibility: hidden; // Safari
    border-radius: inherit;
    overflow: hidden;
    position: absolute; inset: 0;
    transform-style: preserve-3d;
    width: 100%; height: 100%;
  }

  // Face arrière visible au départ
  .back-face {
    background: var(--bg-surface-soft, #{$color-surface-soft});
    display: grid;
      place-items: center;
    transform: rotateY(0deg);
  }

  // Face avant visible après flip
  .front-face {
    background: #fff;
    transform: rotateY(180deg);
    img {
      display: block;
      object-fit: contain;
      width: 100%; height: 100%;
    }
  }

  .sephora-s {
    display: block;
    fill: var(--logo);
    width: 2rem; height: 7rem;
  }

  // ============================
  // Responsive sizing des cartes
  // ============================
  @media (width <= 640px) {
    height: $card-h * 0.85;
    .sephora-s {
      width: 1.8rem; height: 6rem;
    }
  }

  @media (width <= 420px) {
    height: $card-h * 0.7;
    .sephora-s {
      width: 1.6rem; height: 5rem;
    }
  }
}
